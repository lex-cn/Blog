---
tags: Linux
---

# 我爱Linux

虽然我现在还是一个十足的小白，但是对有些人关于GNU/Linux与BSD之争、发行版之争、
桌面环境之争、编辑器之争、java/C++之争等等深感无聊。心平气和地进行讨论和比较，自然是大有益处的，但是那些以秀优越与智商而进行的“圣战”则是毫无意义的。GNU/Linux
的意义之一在于让人们更加自由地选择自己想要的软件和操作系统环境，而不是为这些鸡
毛蒜皮的小事进行无所谓的争辩。

可以看看那些贴吧里义正言辞、慷慨激昂，满嘴喷粪的所谓"卫道士"的陈词，其实就是在
努力进行中国式的"党同伐异”，对于自己所使用的软件进行抬高，忽略缺陷，对别人的选
择加以斥责，甚至不惜恶语相加，以显示自己的优越。这些人无论是宣传什么，都会引起
我的反感，这种人的行为对于它所宣传的软件的伤害是非常大的，让新手望而却步，让别
的用户甚为反感，没有了尝试他推荐的软件的兴趣。

GNU/Linux的追求是制作更多的自由软件，为人们在计算机的世界中有一片自由安全的乐土。使用GNU/Linux解决了自己的问题，完成了自己的任务，这才是值得我们追求的。

今天完成了笔记的迁移工作，至此，我的笔记都在github上了，以后就能真正跨平台、无障碍、连续、方便快捷地进行笔记记录工作。

我选择github作为记录笔记的原因主要有以下几点。假如你有以下与我类似的偏好与特征，我推荐你也可以采用github作为你的笔记软件、代码仓库、活动记录员以及一个网盘。

1. 喜欢linux，追求简单、可靠、便捷、持久的笔记软件。

Linux的好处之一在于经过一些配置之后，建立一套适合自己的系统环境，那么我们就能在
下面进行长久的工作而不用去管很多琐碎和无聊的事情，（比如安装更新要重启，电脑卡
顿，因为系统升级或者硬件老化而电脑变得龟速等问题）。即使换了新的电脑或者硬盘，
那么也能用脚本将现有设置与文件打包之后在新的机器上部署，得到自己最想要的环境。
而文本格式存储文档则使搜索变得非常简单，cat/grep随便跑跑就能搜到自己想要的东西
，不会因为某些软件的搜索功能占用资源过多而导致电脑卡住。

2. 喜欢使用文本进行编辑，不希望过多地考虑文件格式、排版等闲杂内容。

不管是markdown还是TeX/LaTeX，真正熟练的人会将常用的命令熟记于心，在编写文档的时
候手不离键盘，随手输入，对文本进行加粗，下划线，改变颜色甚至是输入复杂的数学公
式，不会再用鼠标点来点去去寻找某项菜单。这不仅节省大量时间，而且能够最大限度地
把精力集中在写作上，避免一些不必要的操作打断。

3. 不喜欢office等软件的庞大与复杂，喜欢简单的实现方式与工具，希望能够以简单的方
式进行文档的编写工作。

微软的offie的确很强大，但是很多功能我都用不上，我又不好意思经常用盗版的Office，
而且我经常在不同的操作系统间切换，我不想我的文件在不安装几个G的软件的情况下就无
法查看和编辑。我希望我的文件能够以简单的格式进行存储，即便过了数年仍然不会产生
因为格式而打不开的问题。

而现存的商业笔记软件，都存在着体积过大（就算数百K的文本笔记存进去仍能产生数百M
的缓存数据），数据迁移不方便，没有Linux客户端，不能使用外部编辑器等让我不满意的
地方。当然这只是我个人的偏见，对于大部分人的需求来说，国内的为知笔记，印象笔记
都属于非常不错的软件。

4. 熟悉markdown，对文本编辑工作的需求较大。

Markdown提供了一种简单，直观、美观的方式进行文档的编辑和显示，这种简单易用的标
记性语言使以markdwon格式的文本能够被pandoc等工具快速转换成其他格式。而兼容TeX语
法的特性使输入数学公式变得非常容易，这非常符合我的需要。

5. 经常在linux/windows甚至mac等操作系统环境之间切换，希望资料能够同步。

github有一个不错的windows客户端，对linux的支持更是没得说。这对于我这操作系统换
来换去的人是非常有用的。

6. 希望对自己的学习历程进行详细地记录和总结，并希望能够分享出来，以便需要的人能
够看到。

Github对于每次提交都进行了非常细的记录，这正也是我需要的。此外，虽然很多笔记软
件都能进行非常方便的资料收集功能（比如收录网页等），但我感觉如果收集了很多资料
而不立即进行整理，那么这些资料很可能就淹没在自己的资料仓库中，跟淹没在网络过剩
的信息海洋中没什么区别。每次提交改动，也是对自己的学习进行总结。如果我所写的东
西能对别人有帮助，那也是极好的。如果没有人看，那也没什么。

7.  迁移与转换非常方便

假如有一天，Github被墙了，我仍然可以将我的文件上传至国内的一些git服务提供商。甚
至可以架设自己的私人git服务器，继续自己的git笔记。


# 什么样的人需要使用Linux？

1. 手上有闲置的旧机器的人

相对于Windows系统对硬件要求的节节攀升，Linux对硬件的要求极低，即使是十年前的机
型，如果硬件没有损坏，跑Linux还是没有问题的。而且，利用Linux本身高度的可定制性
，你可以删除某些模块以降低对硬件的要求。

2. 希望为自己量身定制操作系统的人

从桌面环境、文件管理器、文本编辑器以及浏览器等等，均可以按照你的意愿进行选择与
定制。为数众多的开源软件可以让你自由选择适合自己的软件，进行适合自己习惯的操作
。

假如挑选软件已经不能让你满意了，那么你应该尝试一下LFS(请自行百度)，从内核级别开
始定制属于你自己的操作系统。

3. 需要使用Linux下专有程序的人

这点不需要说明。假如有款杀手级软件是Linux专有的，而且是你非用不可的软件，那你必
须要尝试一下Linux了。

4. 希望发挥硬件全部性能的人

除了兼容老旧的硬件设备之外，你也可以利用linux全面发挥你的硬件。在这个内存如白菜的年代，很多人用上了64位的操作系统，但是如果不配以64位的软件，则会导致一部分的内存优势无法发挥应有的作用。在Linux下，大部分开源软件均有64位程序包。

此外，你还可以使用简单的软链接命令将某些经常性被程序读取的目录(如cache目录)链接至内存，可以减少对于硬盘的读写，增加硬盘的寿命。

5. 希望使用开源程序的人

各大发行版的软件源均是获取开源软件的最好渠道，已经被打包好的软件在一行命令下就可以完成下载与安装。世界各地的开源社区已经把完全

6. 希望远离各种病毒的人

相比较windows上的形形色色的病毒，Linux上的病毒屈指可数(但不是没有，可参见[此处](http://news.mydrivers.com/1/180/180663.htm))，经过简单的设置和及时的更新，Linux在保证可用性的前提下为用户提供安全的保证。

此外，Linux上也有相应的防病毒软件，然而对于普通用户来说，病毒的威胁远远小于自己的误操作。从此，再也不用担心图标被改，U盘中招了。

7. 节省成本与时间

如果使用正版Win7，那是需要一点Money的。而大部分的Linux发行版，均是免费发行的。

节省成本与时间，这其实是个辩证的关系：

比如说有一个小上网本，准备给妈妈用，让她天天看视频和听歌，那么在上网本里面装个LinuxMint或者别的发行版，教会她如何使用浏览器，那么再也不用担心自己不在的时候电脑被百度全家桶、腾讯管家等等所谓的杀毒软件所霸占，以后每次回去再也不用给她的电脑卸载这个那个甚至重装了。

每次装完新系统，都要重装软件，在Win下，装系统要一个个下载软件与安装软件，而在Linux下，简单写个shell脚本，就能把全部需要的软件一一下载，由系统进行安装，而且完全不用在安装过程中与各种安装选项“斗智斗勇”。

Win下经常进行清扫与打理，可以用很长时间都不会使开机变慢，但是这种工作相对繁复，而Linux可以完全将杀毒与清扫的工作省去，以此节省一部分时间。

有没有使用Word写了一天的文章却因为一时的卡机导致成果泡汤？写作的时候不得不动用鼠标选择这个与那个导致分神？？假如你使用Latex或者Markdown等语言，将平日“所见即所得”的模式转变成“所想即所得”模式，你的写作将变得无比简单。经过简单的学习，你可以尽情写作，将排版的事情交给程序；积累几个模板，就可以将以后类似的任务变成填空一般简单的事情。

8. 对人的限制

Linux上的软件大多小而精悍，让你能够使用shell脚本把所有工具组织起来，完成一些重复而复杂的工作。基于KISS(Keep it simple, stupid.)原则，Unix/Linux下的程序一般只致力于做一件事情，并且做好；这些程序都可以协同工作，各个程序之间的处理结果可以通过文件或者管道进行输入输出。这些程序如同一群训练有素的士兵，为你执行精确的任务，但是前提是你要会为他们精确地分派任务(写脚本)，当然，这种能力的获得需要学习。

初学者经过简单的设置即可开始使用Linux，而牛人们则可以对Linux从内核到软件的各个层面发挥自己的技术优势，实现自己的想法。Linux本身就是世界各地的人们共同开发，各尽其才，自由发挥。

可以这么说：对于一个熟练使用Linux的人，唯一限制他的因素只有一个：他自己的技术和想象力。


# Linux是不是你的菜 

我并不觉得所有人都必须学习使用Linux，就像我并不觉得文本编辑器必须使用Vim或者Emacs。选择是有代价的，学习也是有代价的，所以在开始学习Linux之前，你应该考虑一下Linux是不是你的菜

0.  Linux并不是适合每一个人

我并不觉得Linux上手难度相比较Win和Mac来说更大，问题在于我们初次使用的操作系统大多都是Windows，而平日常见的操作系统都是Windows或者Mac，所以，你的Mac和Windows的常见问题大多可以通过搜索来得到解决方法。而Linux由于发行版众多配置复杂，有时候搜索得来的答案并不适合你的情况，这有时候让人觉得迷惑不解。

而Windows和Mac的商业投入和售后支持都是非常好的。即使以上搜索也无法解决的问题，你仍然你可以打电话求助。最后重装一下就好。而除了少量商业版Linux之外，大部分Linux发行版并没有售后电话，很多甚至连一个像样的中文社区论坛都没有，很多都只能求助谷歌，访问英文社区论坛的资料。很多内容需要自己观察，思考和总结。

所以，假如你没有经常思考的习惯、耐心、或者时间，那么使用Linux将是非常痛苦的。

1.  Linux缺乏Win和Mac下的很多软件

从Win或者Mac转Linux，很多人自然想继续使用原系统下的软件，虽然Linux下有很多很棒的开源软件，然而Linux下并没有Win或者Mac下的QQ或者Photoshop之类的软件。所以在开始转向Linux之前，你应该先了解你所必需的软件是否有相应的Linux版本或者Linux平台下是否有相应的替代品，以及这些替代品能否能够帮助你完成事务。

事实上，真正意义上的替代是不可能的。除非你在别的系统上就习惯使用如chrome，firefox这些跨平台的软件，否则，你必然要抛弃一些原有的操作习惯。

2.  Linux对硬件的支持不够好

由于多种原因(个人觉得是桌面端消费级显卡用户数量过少)，Linux对于新硬件的支持力度远不及Win，这里的硬件主要是指显卡，指纹识别，蓝牙。假如你有一台本年度最新款的笔记本，那么在装Linux之前最好了解一下相关已经以及Linux是否支持这些硬件。

3.  缺乏完善的中文帮助

长久以来，计算机整个行业都是外国人主导的，这导致大部分计算机软件与文档均是英语写就。微软和苹果能保证每次出新系统之后，就做出相应的中文帮助，设立相应的电话咨询顾问、投放大量的广告，而Linux上大部分的开源软件是不可能出资给自己做这样的推广与营销，只能靠社区和用户的口口相传，因此导致两种问题

4.  Linux上有些好软件，但是国内的用户很少听说

用户使用Linux下某些软件，出现的有些问题却难以在中文社区搜索到答案

因此，使用Linux，对于新手是非常有挑战的事情。要是英语过关的话，多看manual，多逛论坛，多思考总结，个人解决问题的水平肯定是突飞猛进的。

5.  Linux新手提问需要技巧

没有人希望回答描述模糊不清、可怜巴巴、没有经过事先思考或者搜索就能得出结论的问题，开源的世界中，别人解答你的问题是对你的帮助，但不是他们的责任，尽量详尽而简短地描述问题是解释

[0](http://m.ctocio.com.cn/networking/290/12544290_m.shtml)
[1](http://bbs.pcbeta.com/viewthread-1063474-1-1.html)

6.  部分Linux大神的坏脾气

7.  投入与回报

投入与回报就是个权衡的过程。没有客观地选择与适用之前，你不能做出合适的评判。

还是那句话这么多人用不是没道理；不要因为我们从小说汉语就觉得英语是最垃圾难懂的语言

不管是学Linux还是学那些个软件，你若是抱着原来的那套想法和模式不放，你会很痛苦的


# 迁移到Linux的一些建议

我们假定您是对Linux感兴趣的朋友，如果您有以下的想法或者感觉，那么您将是本文的目标读者。

+ 已经使用Win很久，但想尝试一下新的系统与环境
+ 认为将来工作中要用到Linux，想提前为全面使用linux作准备
+ Just for fun. 为了好玩想玩一下Linux，想全面使用Linux解决生活中的问题。

如果你想从Win等系统更加顺利地转向Linux系统，那么软件或者内容将会是你在这个过程中可能需要的前提准备。

1. chromium/firefox

2. LibreOffice

3. 文本编辑器

4. 编程语言

5. Markdown

6. Github/Bitbucket 

尽管Linux上可以使用SVN、CVS等版本管理软件，但是作为版本管理神器，Git绝对是你应该掌握的版本管理软件。

7. Steam

# Linux教会我的那些事情 

此文属于本人原创，转载请注明链接，谢谢

### Just do it

想学某种语言？尽管去学！想做什么东西？尽管去做！没有什么能阻止你去努力，除了你
自己。就像卡马克大神说的那样：

> 现今程序员的情况好多了-只要有一台便宜的二手电脑，一张Linux光盘和一个互联网帐户
> ，你就已经拥有了把自己提升到任何级别的编程水平所需的全部工具。
>
> –约翰-卡马克

### 保护版权也是保护自由，尊重知识

其实，任何一种操作系统都可以完成许多相同的任务，然而以合法的方式使用操作系统与软件是对软件作者的一种尊重，也是对规则的尊重。程序员创造的软件，如同作家写的文章，作者有权决定如何发行与授权自己的软件，他们也有权因为别人使用自己的软件而获得收益。

### 自由即选择

只有一个候选人的选举是自由的么？

只有一种选项的选择对于选择人是公平的么-

只有一种方法能够实现某种任务，你觉得是自由的么？

当只能选择这样或者那样地被人宰割，这对一头猪来说是自由的么？

GNU/Linux最让我受益匪浅的是，让我认识到世界上除了Windows、Mac，还有一群人Just for fun，将自己的才智贡献出来，构建一个完全可用、免费、高效的操作系统让人们免费使用，在授权费用上完全没有门槛；并将代码完全开源出来，让任何有能力的人都可以学习并参与改进，也许产品相对于商业产品没有那么多酷炫的功能，然而，GNU/Linux的每一次进步即意味着是全人类的成果，因为GPL协议阻止了任何个人和团体将其私有化。 GNU/Linux为人们提供了一种选择，让人们可以对商业产品，对各种流氓软件说NO。计算机将继续接管我们生活的方方面面，而操作系统是你的设备的灵魂，当这个灵魂掌握在

### 选择即责任

遇事总想走后门的人却抱怨司法不公；

经常使用盗版软件的程序员却抱怨自己工资不高；

为了把手机电脑上塞满破解软件想尽办法root了系统的用户却老是大骂系统不安全；

我觉得都是非常可笑的行为。

使用盗版软件，是不会被雷劈的，但这是违法的。这就意味着软件所有者可以随时讲证据提交至法庭起诉你。微软带工商局前往企业查盗版也是有先例的。

选用正版win就没事了么？NO。微软会提示你更新新系统，推荐你更新的硬件，让你的老机器用着卡卡卡，然后升级新的Intel处理器。最新的Win10还会发送大量个人数据到微软的服务器，除了卸不掉的不招人待见的IE，还有新生的Edge。不装可以么？No。你购买了Windows，就意味着你已经同意那些超长的用户协议，不管你看没看。

选择Linux就没事了么？No。Linux从来不会阻止用户做任何事情，所以也不会阻止你使用sudo rm -rf /这样自杀性的命令。你还要学习大量命令来熟悉整个系统。Linux的学习起点以及Linux上很多软件的学习起点是如此之高。

没有什么选择是不需要付出代价的。选择只是一个权衡地过程。选择即代表你要承担随之的后果，不管你是否预见。

### 自由的代价是永远警惕

当开始进入Linux世界之后，可以选择的事项是如此之多，从编程语言到文本编辑器，很多人容易迷失在各种选择中，整天尝试各种新的桌面与编辑器，而我个人觉得，

### 没有绝对的安全

Linux不会被黑么？看看国内外机关重重，保密措施严密的机构都被黑客攻破。即使使用Linux，也不能保证绝对的安全。Linux系统被获取了root权限，一点都不比Win下受到的任何攻击更小，再严密的安全策略中，最薄弱的部分永远是人。

### 最适合的就是最好的

永远不要说XX是最好的操作系统、XX是最好的语言，这种话是除了招致一大批好事者打嘴炮之外，没有任何意义。原因如下：

1.  让一个熟练使用十年Vim而仅仅尝试了Emacs一个月的使用者评价两种编辑器，这对参与评比的编辑器是不公平的。
2.  让两个背景不同，经历不同的人评价同一款软件是不公平的。网络很可能让他们放大了自己对于某些东西的偏见。
3.  工具们就算能够得到最公正的评价，那对于你又有什么关系呢？你的工作是来炫耀自己的工具么？这些工具只是为了让人更好的工作，而不是更好地打嘴炮。

因此，我觉得：

1.  如果你想尝试什么新的软件，你应该在一个空闲的下午，安装试用这个软件。你的体验才是最好的判断依据。
2.  对于所有关于软件的评论，你都应该作为参考，而不要让它们左右你的看法。
3.  世上不存在完美的人，所以也绝对不存在完美的系统和软件，不要期盼“一招鲜”来解决一切问题。
4.  对于网上或者QQ群上打嘴炮的人，可以一笑而过，抓紧时间做自己该做的事情，

终有一日，你会超过他们，而他们还依然在打嘴炮。

### 自己动手，丰衣足食

Linux为所有人提供了一套可以免费使用的操作系统，支持绝大部分的流行的编程语言，具有非常多的令人激动的特点。然而它并不是完美的，缺乏商业的支持，使得它缺少部分在Win下常见的软件。然而当你选择使用Linux的时候，你就应该清楚它的优缺点和你的需要，而不是在稍加尝试之后便开始抱怨甚至攻击。毕竟，你没有为使用Linux付出一分钱。

### 人始终是决定性的关键因素

### 参考资料

1.  [id software创始人约翰-卡马克语录](http://segmentfault.com/a/1190000000340686)

# 为什么Linux用着这么累

> 最难的大概是：我既不知道自己想要啥，又想Linux能够完全贴合Windows的使用习惯。

我大概是2011年开始使用Linux的，已经坚持使用Linux 7年左右了；这中间有多少折腾自
然不必说。有时候真的觉得用Linux好累，但出于一种莫名的热爱，我依然坚持使用至今。
即便如此，我也几度因为某些痛点想放弃使用Linux。

经过思考，我总结出以下几点Linux的痛点

## 1. Office的替代

微软的office功能强大，集成度高，在Linux下很难找到完美的替代。LibreOffice是其中比
较不错的选择。我一般按照以下原则处理我的Office文档。

- 别人发送的通知类word文档，记录重要内容，随手保存到微云或者删掉(95%)
- 自己编写但不需要与外部交换，一律markdown
- 如果需要我本人回复或填写的，尽量使用PDF。
- 如果格式限定为Office，一般我会采用先准备材料、文字，然后在MS-Office上一气呵成。

## 2. 即时消息

Linux下的即时通信软件大多不受人待见，但是这样也倒避免了很多无谓的打扰。有些时候
一边聊QQ、微信，一边做事，聊了半天，并没有解决什么问题，徒劳浪费时间。

当然有些时候即时通信软件有它的好处。我还没有达到拒绝IM的境界。对此，我的处理办法
是，

- 让即时通信工具圈养在手机上。
- 不在电脑上安装IM客户端（微信、QQ、微博等）。
- 即时软件通知静音，定时查看软件。
- 其余时间手机屏幕朝下放置，电话提醒设置为震动。

这样就可以安心工作了。在即时通信软件上通知你的事情，基本上都不是什么大事。

## 3. 游戏

Linux下的0ad是个不错的游戏。其他的就好像没什么了。装上steam之后，又有1000+游戏
可供选择，但是我还是禁用了这个选项，因为游戏装在电脑上根本控制不住自己啊。

所以我现在的主机是Intel赛扬双核(主频1.83Ghz，内存2G)，彻底断了自己玩游戏的想法
。

## 4. 文件同步

Linux下没有那么多的商业网盘软件，因此会让人难以适应，但是想到那些网盘的隐私保护
和寿命，还不如自己审视一下自己的文件需求，自立更生。

现在除了百度云，基本上没有哪家能够提供TB级的网络存储了。把视频什么的存上去也不
安全，我已经停用了。

Linux下的文件同步软件有dropbox，mega和坚果云，国内真正好用的只有坚果云。由于坚
果云的容量不高、又有增量同步的特性，推荐使用它进行文档的同步。

- 电影视频，存在移动硬盘上。
- 自己的代码，如果开源就放在Github上，如果不开源，就放在Bitbucket上。
- 照片一般放在QQ空间
- 一般性的文档放在坚果云。
- 如果不想用坚果云此类商业同步软件，syncthing是最佳的选择。

解决了上述问题，相信使用Linux就没那么难了。


# Linux 常见问题解决

## Xterm 终端无法显示中文

今天在登录服务器时，发现所有的中文均显示???

这种问题的基本解决办法就安装中文字体，调整locale的设置。

我出现这个问题的原因时.在确认另一台电脑上登录服务器可以正确显示之后，我发现自己
的电脑上的locale设置不正确，中英文混合设置。因此我将我的电脑全部设置成en_US即可
。

```bash
cat /etc/default/locale
```

```bash
#  File generated by update-locale
LANG="en_US.UTF-8"
LANGUAGE="en_US.UTF-8"
LC_NUMERIC="en_US.UTF-8"
LC_TIME="en_US.UTF-8"
LC_MONETARY="en_US.UTF-8"
LC_PAPER="en_US.UTF-8"
LC_NAME="en_US.UTF-8"
LC_ADDRESS="en_US.UTF-8"
LC_TELEPHONE="en_US.UTF-8"
LC_MEASUREMENT="en_US.UTF-8"
LC_IDENTIFICATION="en_US.UTF-8"
```
## 解压.Z文件

```bash
uncompress *.Z
```

## Operation not Supported in Pcmanfm or Thunar 

```
sudo apt-get install gvfs gvfs-backends 
```

## debian 无法休眠？无法挂起

很多文章建议大内存(4G+)、SSD硬盘的用户不使用swap分区，其实swap分区对于这些用户
真的没有必要。所以我选择禁用swap分区。但是禁用swap分区会造成无法正常休眠，休眠
后无法唤起等问题，所以干脆禁止系统休眠算了。

解决办法来自于http://my.oschina.net/emptytimespace/blog/101796

具体解决如下：

> sudo vi /etc/default/acpi-support

里面有一行：

> ACPI_SLEEP=true
> ACPI_HIBERNATE=ture

注释掉这两句，或者将true改为false，就禁用了休眠和挂起。

> ACPI_SLEEP=true
> ACPI_HIBERNATE=ture

## Do You Have a Strange Power Saving Mode Enabled?

登陆服务器，发现服务器提示一个错误。

```text
    Uhhuh. NMI received for unknown reason 30.
    Dazed and confused, but trying to continue
    Do you have a strange power saving mode enabled?

    Uhhuh. NMI received for unknown reason 20.
    Dazed and confused, but trying to continue
    Do you have a strange power saving mode enabled?
```

搜索一番，有人说这个是bug，已经在kernel 4.0中修复了，

问题的原因是在服务器上长时间开启虚拟机导致的。

解决办法如下

How do I fix this error?

A. This is caused when the system is hanging under load. Add any one of the
following to you /boot/grub.conf file:

    Disable the NMI watchdog by adding “nmi_watchdog=0”
    Disable the high precision event timer (HPET) by adding “nohpet”

Open grub.conf, type:
vi grub.conf
Make modification to kernel line as follows:

Save and close the file. Reboot the server:

## xbacklight-no-outputs-have-backlight-property

这个错误可能导致无法使用键盘xbacklight调节屏幕亮度，可按以下步骤进行调整

### 1. 生成Xorg.conf

进入tty模式，然后停止显示服务器
```
sudo service slim stop
```

然后重新生成xorg.conf

```
sudo Xorg -configure
```

然后生成了/root/xorg.conf.new，此处路径可能不一样。

然后将其覆盖/etc/X11/xorg.conf

我得到的原始xorg.conf.new如下，

```
Section "ServerLayout"
	Identifier     "X.org Configured"
	Screen      0  "Screen0" 0 0
	Screen      1  "Screen1" RightOf "Screen0"
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

Section "Files"
	ModulePath   "/usr/lib/xorg/modules"
	FontPath     "/usr/share/fonts/X11/misc"
	FontPath     "/usr/share/fonts/X11/cyrillic"
	FontPath     "/usr/share/fonts/X11/100dpi/:unscaled"
	FontPath     "/usr/share/fonts/X11/75dpi/:unscaled"
	FontPath     "/usr/share/fonts/X11/Type1"
	FontPath     "/usr/share/fonts/X11/100dpi"
	FontPath     "/usr/share/fonts/X11/75dpi"
	FontPath     "built-ins"
EndSection

Section "Module"
	Load  "glx"
EndSection

Section "InputDevice"
	Identifier  "Keyboard0"
	Driver      "kbd"
EndSection

Section "InputDevice"
	Identifier  "Mouse0"
	Driver      "mouse"
	Option	    "Protocol" "auto"
	Option	    "Device" "/dev/input/mice"
	Option	    "ZAxisMapping" "4 5 6 7"
EndSection

Section "Monitor"
	Identifier   "Monitor0"
	VendorName   "Monitor Vendor"
	ModelName    "Monitor Model"
EndSection

Section "Monitor"
	Identifier   "Monitor1"
	VendorName   "Monitor Vendor"
	ModelName    "Monitor Model"
EndSection

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "Accel"              	# [<bool>]
        #Option     "AccelMethod"        	# <str>
        #Option     "Backlight"          	# <str>
        #Option     "CustomEDID"         	# <str>
        #Option     "DRI"                	# <str>
        #Option     "Present"            	# [<bool>]
        #Option     "ColorKey"           	# <i>
        #Option     "VideoKey"           	# <i>
        #Option     "Tiling"             	# [<bool>]
        #Option     "LinearFramebuffer"  	# [<bool>]
        #Option     "HWRotation"         	# [<bool>]
        #Option     "VSync"              	# [<bool>]
        #Option     "PageFlip"           	# [<bool>]
        #Option     "SwapbuffersWait"    	# [<bool>]
        #Option     "TripleBuffer"       	# [<bool>]
        #Option     "XvPreferOverlay"    	# [<bool>]
        #Option     "HotPlug"            	# [<bool>]
        #Option     "ReprobeOutputs"     	# [<bool>]
        #Option     "XvMC"               	# [<bool>]
        #Option     "ZaphodHeads"        	# <str>
        #Option     "VirtualHeads"       	# <i>
        #Option     "TearFree"           	# [<bool>]
        #Option     "PerCrtcPixmaps"     	# [<bool>]
        #Option     "FallbackDebug"      	# [<bool>]
        #Option     "DebugFlushBatches"  	# [<bool>]
        #Option     "DebugFlushCaches"   	# [<bool>]
        #Option     "DebugWait"          	# [<bool>]
        #Option     "BufferCache"        	# [<bool>]
	Identifier  "Card0"
	Driver      "intel"
	BusID       "PCI:0:2:0"
EndSection

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "SWcursor"           	# [<bool>]
        #Option     "HWcursor"           	# [<bool>]
        #Option     "NoAccel"            	# [<bool>]
        #Option     "ShadowFB"           	# [<bool>]
        #Option     "VideoKey"           	# <i>
        #Option     "WrappedFB"          	# [<bool>]
        #Option     "GLXVBlank"          	# [<bool>]
        #Option     "ZaphodHeads"        	# <str>
        #Option     "PageFlip"           	# [<bool>]
        #Option     "SwapLimit"          	# <i>
        #Option     "AsyncUTSDFS"        	# [<bool>]
        #Option     "AccelMethod"        	# <str>
        #Option     "DRI"                	# <i>
	Identifier  "Card1"
	Driver      "nouveau"
	BusID       "PCI:2:0:0"
EndSection

Section "Screen"
	Identifier "Screen0"
	Device     "Card0"
	Monitor    "Monitor0"
	SubSection "Display"
		Viewport   0 0
		Depth     1
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     4
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     8
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     15
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     24
	EndSubSection
EndSection

Section "Screen"
	Identifier "Screen1"
	Device     "Card1"
	Monitor    "Monitor1"
	SubSection "Display"
		Viewport   0 0
		Depth     1
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     4
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     8
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     15
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     24
	EndSubSection
EndSection
```


### 2. 修改Xorg.conf

```
Section "ServerLayout"
	Identifier     "X.org Configured"
	Screen      0  "Screen0" 0 0
    #Screen      1  "Screen1" RightOf "Screen0" 注释掉该行
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

\* --------  *\

Section "Device"
        ### Available Driver options are:-
        ### Values: <i>: integer, <f>: float, <bool>: "True"/"False",
        ### <string>: "String", <freq>: "<f> Hz/kHz/MHz",
        ### <percent>: "<f>%"
        ### [arg]: arg optional
        #Option     "Accel"              	# [<bool>]
        #Option     "AccelMethod"        	# <str>
        #Option     "Backlight"          	# <str>
        #Option     "CustomEDID"         	# <str>
        #Option     "DRI"                	# <str>
        #Option     "Present"            	# [<bool>]
        #Option     "ColorKey"           	# <i>
        #Option     "VideoKey"           	# <i>
        #Option     "Tiling"             	# [<bool>]
        #Option     "LinearFramebuffer"  	# [<bool>]
        #Option     "HWRotation"         	# [<bool>]
        #Option     "VSync"              	# [<bool>]
        #Option     "PageFlip"           	# [<bool>]
        #Option     "SwapbuffersWait"    	# [<bool>]
        #Option     "TripleBuffer"       	# [<bool>]
        #Option     "XvPreferOverlay"    	# [<bool>]
        #Option     "HotPlug"            	# [<bool>]
        #Option     "ReprobeOutputs"     	# [<bool>]
        #Option     "XvMC"               	# [<bool>]
        #Option     "ZaphodHeads"        	# <str>
        #Option     "VirtualHeads"       	# <i>
        #Option     "TearFree"           	# [<bool>]
        #Option     "PerCrtcPixmaps"     	# [<bool>]
        #Option     "FallbackDebug"      	# [<bool>]
        #Option     "DebugFlushBatches"  	# [<bool>]
        #Option     "DebugFlushCaches"   	# [<bool>]
        #Option     "DebugWait"          	# [<bool>]
        #Option     "BufferCache"        	# [<bool>]
	Identifier  "Card0"
	Driver      "intel"
	BusID       "PCI:0:2:0"
    Option      "Backlight"         	# 此处增加<str>
EndSection
```

## No presmission to write 文件没有写入权限 

```bash
sudo chown $user $dir
sudo chgrp $user $dir
```

## linux下查看进程运行的时间

```bash
ps -eo pid,tty,user,comm,lstart,etime | grep init
```

linux 下取进程占用内存(MEM)最高的前10个进程

## linux 下取进程占用 cpu 最高的前10个进程

```bash
ps aux|head -1;ps aux|grep -v PID|sort -rn -k +3|head
```

## linux 下取进程占用内存(MEM)最高的前10个进程

```bash
ps aux|head -1;ps aux|grep -v PID|sort -rn -k +4|head
```

## Transport endpoint is not connected 的解决办法



```bash
ls: cannot access 'shfs': Transport endpoint is not connected
total 135M
-rw-r--r--  1 lex lex    0 Mar  8 10:35 atex
drwxr-xr-x 15 lex lex 4.0K May 15 20:44 Documents
d?????????  ? ?   ?      ?            ? shfs
-rw-------  1 lex lex  13M May  9 22:58 nohup.out
drwxr-xr-x  3 lex lex 4.0K Mar  6  2017 R
drwxr-xr-x  3 lex lex 4.0K Feb 27 19:40 Software
drwxr-xr-x  5 lex lex 4.0K Apr 10 20:46 Temp
drwxr-xr-x  3 lex lex 4.0K Apr 30 16:56 tmp
drwxr-xr-x  6 lex lex 4.0K Mar  6 22:13 toDelete
```

I get this message when there's been a bad *disconnect* from a fuse fs.

Unmounting and remounting the fs solves it

Code:

```bash
$ fusermount -u <mountpoint>
$ sshfs <mountpoint>
```


https://www.linuxquestions.org/questions/slackware-14/transport-endpoint-is-not-connected-filesystem-error-817146/

# VLC is unable to open the MRL

samba 

如果是打开samba共享文件时出现的，主要的解决办法如下

[参考链接1](https://askubuntu.com/questions/618204/cannot-play-files-over-samba-share-on-mate-15-04)

[参考链接2](https://ubuntu-mate.community/t/solved-question-on-network-drives/1210/6)

## ThinkPad T440p安装debian之显卡驱动篇

## 获取当前设备的显卡情况
```bash
lspci | grep VGA
```

ThinkPad T440p的显卡设备主要有以下

```bash
00:02.0 VGA compatible controller: Intel Corporation 4th Gen Core Processor Integrated Graphics Controller (rev 06)
02:00.0 VGA compatible controller: NVIDIA Corporation GK208M [GeForce GT 730M] (rev a1)
```

可以看出我们当前的显卡有两块，其中Intel的显卡可以不用管，Linux对Intel显卡的默认
支持非常好，当前的Nvidia显卡核心是GK208M，型号是GT730M，那么我们在软件库中搜索
相关软件包

```bash
sudo apt-get update
apt-cache search GT 730 #此处不要搜索730M
```

搜索结果为

```
nvidia-legacy-304xx-driver - NVIDIA metapackage (304xx legacy version)
nvidia-legacy-304xx-kernel-dkms - NVIDIA binary kernel module DKMS source (304xx legacy version)
nvidia-legacy-304xx-kernel-source - NVIDIA binary kernel module source (304xx legacy version)
xserver-xorg-video-nvidia-legacy-304xx - NVIDIA binary Xorg driver (304xx legacy version)
nvidia-legacy-340xx-driver - NVIDIA metapackage (340xx legacy version)
nvidia-legacy-340xx-kernel-dkms - NVIDIA binary kernel module DKMS source (340xx legacy version)
nvidia-legacy-340xx-kernel-source - NVIDIA binary kernel module source (340xx legacy version)
xserver-xorg-video-nvidia-legacy-340xx - NVIDIA binary Xorg driver (340xx legacy version)
```

这说明现在库中包含你的显卡所要使用的驱动，那么我们可以从库中直接安装。使用库中
的软件的好处是显而易见的。但是我们搞不清到底使用哪种驱动

## 安装

下面安装nvidia-detect，然后运行它
```bash
sudo apt-get install nvidia-detect
nvidia-detect
```
运行结果如下
```
Detected NVIDIA GPUs:
02:00.0 VGA compatible controller [0300]: NVIDIA Corporation GK208M [GeForce GT 730M] [10de:1290] (rev a1)

Checking card:  NVIDIA Corporation GK208M [GeForce GT 730M] (rev a1)
Your card is supported by the default drivers and legacy driver series 340.
It is recommended to install the
    nvidia-driver
package.
```
现在就很明显了，直接安装nvidia-driver即可。

```bash
sudo apt-get install nvidia-driver nvidia-legacy-340xx-driver xserver-xorg-video-nvidia-legacy-340xx 
sudo apt-get install primus bumblebee bumblebee-nvidia
#此处是必须的,否则会出现类似GLX is not supported的问题
```

## 使用显卡

安装完了之后，nvidia显卡默认不起用，所以需要时要用primus包中的optirun启动

比如我要启动0ad这个游戏
```
optirun 0ad
```

## 查看显卡内存使用量

也许你可能想显卡到底启用没，那么可以使用nvidia-smi来查看。比如我玩游戏前，
nvidia-smi的输出如下
```
Sun Oct 30 10:47:49 2016       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 367.44                 Driver Version: 367.44                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GT 730M     Off  | 0000:02:00.0     N/A |                  N/A |
| N/A   53C    P0    N/A /  N/A |      0MiB /   982MiB |     N/A      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|    0                  Not Supported                                         |
+-----------------------------------------------------------------------------+
```
下面是启动游戏后的结果
```
Sun Oct 30 10:48:44 2016       
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 367.44                 Driver Version: 367.44                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|===============================+======================+======================|
|   0  GeForce GT 730M     Off  | 0000:02:00.0     N/A |                  N/A |
| N/A   56C    P0    N/A /  N/A |     85MiB /   982MiB |     N/A      Default |
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID  Type  Process name                               Usage      |
|=============================================================================|
|    0                  Not Supported                                         |
+-----------------------------------------------------------------------------+
```
可以明显看到显卡内存占用增加了85m。另外，请自行删除旧的nouveau程序。

usermod -a -G bumblebee $USER 


注：个人经验之言，仅供参考。


